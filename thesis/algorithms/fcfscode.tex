\Suppressnumber
\begin{lstlisting}[label=fcfs, style=numbers]
First Come First Served Trust Transfer
Input : old flows (*@$x_i$@*), value V
Output : new capacities (*@$c'_i$ \Reactivatenumber@*)
fcfs((*@$\left(x_i\right)$@*), V) :
  n = length((*@$x_i$@*))
  F(*@$_{cur}$@*) = F = (*@$\sum\limits_{i=1}^{n}x_i$ \label{fcfs:finit}@*)
  if (F < V) (*@\label{fcfs:ifinputvalid}@*)
    return((*@$\bot$@*)) (*@\label{fcfs:inputinvalid}@*)
  for (i = 1 to n) (*@\label{fcfs:forcapinit}@*)
    (*@$c'_i$@*) = (*@$x_i$ \label{fcfs:capinit}@*)
  i = 1 (*@\label{fcfs:iinit}@*)
  while (F(*@$_{cur}$@*) > F - V) (*@\label{fcfs:loop}@*)
    reduce = min((*@$x_i$@*), F(*@$_{cur}$@*) - (F - V)) (*@\label{fcfs:setreduce}@*)
    F(*@$_{cur}$@*) = F(*@$_{cur}$@*) - reduce (*@\label{fcfs:setfcur}@*)
    (*@$c'_i$@*) = (*@$x_i$@*) - reduce (*@\label{fcfs:setcap}@*)
    i += 1 (*@\label{fcfs:iinc}@*)
  return((*@$\bigcup\limits_{i=1}^n\{c'_i\}$@*)) (*@\label{fcfs:return}@*)
\end{lstlisting}
